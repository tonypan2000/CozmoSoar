sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp01> <wp02> <wp03> <wp04> <wp05> 
       ^waypoint <wp06> <wp07> <wp08> <wp09> <wp10> 
       ^waypoint <wp11> <wp12> <wp13> <wp14> <wp15> 
       ^waypoint <wp16> <wp17> )

   ### WAYPOINTS ###

  (<wp01> ^handle wp01 ^handle-int 1 ^x 3.5 ^y 31.5 ^map <building>)
   (<wp01> ^edge <e0102>)
    (<e0102> ^start <wp01> ^end <wp02> ^wall-side 1
         ^doorway true ^door_sx 0.95 ^door_sy 30.75 ^door_ex 2.55 ^door_ey 30.75)

  (<wp02> ^handle wp02 ^handle-int 2 ^x 0.875 ^y 29.5 ^map <building>)
   (<wp02> ^edge <e0201>)
    (<e0201> ^start <wp02> ^end <wp01> ^wall-side -1
         ^doorway true ^door_sx 2.55 ^door_sy 30.75 ^door_ex 0.95 ^door_ey 30.75)
   (<wp02> ^edge <e0204>)
    (<e0204> ^start <wp02> ^end <wp04> ^wall-side 1
         ^doorway false)

  (<wp03> ^handle wp03 ^handle-int 3 ^x 3.5 ^y 25.0 ^map <building>)
   (<wp03> ^edge <e0304>)
    (<e0304> ^start <wp03> ^end <wp04> ^wall-side -1
         ^doorway true ^door_sx 2.55 ^door_sy 24.75 ^door_ex 0.95 ^door_ey 24.75)

  (<wp04> ^handle wp04 ^handle-int 4 ^x 0.875 ^y 25.0 ^map <building>)
   (<wp04> ^edge <e0402>)
    (<e0402> ^start <wp04> ^end <wp02> ^wall-side -1
         ^doorway false)
   (<wp04> ^edge <e0403>)
    (<e0403> ^start <wp04> ^end <wp03> ^wall-side 1
         ^doorway true ^door_sx 0.95 ^door_sy 24.75 ^door_ex 2.55 ^door_ey 24.75)
   (<wp04> ^edge <e0405>)
    (<e0405> ^start <wp04> ^end <wp05> ^wall-side 1
         ^doorway false)

  (<wp05> ^handle wp05 ^handle-int 5 ^x -2.5 ^y 25.0 ^map <building>)
   (<wp05> ^edge <e0504>)
    (<e0504> ^start <wp05> ^end <wp04> ^wall-side -1
         ^doorway false)
   (<wp05> ^edge <e0506>)
    (<e0506> ^start <wp05> ^end <wp06> ^wall-side 1
         ^doorway false)

  (<wp06> ^handle wp06 ^handle-int 6 ^x -6.0 ^y 25.0 ^map <building>)
   (<wp06> ^edge <e0605>)
    (<e0605> ^start <wp06> ^end <wp05> ^wall-side -1
         ^doorway false)
   (<wp06> ^edge <e0607>)
    (<e0607> ^start <wp06> ^end <wp07> ^wall-side 1
         ^doorway false)

  (<wp07> ^handle wp07 ^handle-int 7 ^x -6.0 ^y 18.5 ^map <building>)
   (<wp07> ^edge <e0706>)
    (<e0706> ^start <wp07> ^end <wp06> ^wall-side -1
         ^doorway false)
   (<wp07> ^edge <e0708>)
    (<e0708> ^start <wp07> ^end <wp08> ^wall-side 1
         ^doorway false)

  (<wp08> ^handle wp08 ^handle-int 8 ^x -6.0 ^y 12.0 ^map <building>)
   (<wp08> ^edge <e0807>)
    (<e0807> ^start <wp08> ^end <wp07> ^wall-side -1
         ^doorway false)
   (<wp08> ^edge <e0809>)
    (<e0809> ^start <wp08> ^end <wp09> ^wall-side 1
         ^doorway false)
   (<wp08> ^edge <e0812>)
    (<e0812> ^start <wp08> ^end <wp12> ^wall-side 1
         ^doorway false)

  (<wp09> ^handle wp09 ^handle-int 9 ^x -8.75 ^y 12.0 ^map <building>)
   (<wp09> ^edge <e0908>)
    (<e0908> ^start <wp09> ^end <wp08> ^wall-side -1
         ^doorway false)
   (<wp09> ^edge <e0910>)
    (<e0910> ^start <wp09> ^end <wp10> ^wall-side 1
         ^doorway false)

  (<wp10> ^handle wp10 ^handle-int 10 ^x -11.5 ^y 12.0 ^map <building>)
   (<wp10> ^edge <e1009>)
    (<e1009> ^start <wp10> ^end <wp09> ^wall-side -1
         ^doorway false)
   (<wp10> ^edge <e1011>)
    (<e1011> ^start <wp10> ^end <wp11> ^wall-side 1
         ^doorway true ^door_sx -10.000637061368586 ^door_sy 11.299999746345467 ^door_ex -9.999362938631414 ^door_ey 9.700000253654533)

  (<wp11> ^handle wp11 ^handle-int 11 ^x -11.0 ^y 9.5 ^map <building>)
   (<wp11> ^edge <e1110>)
    (<e1110> ^start <wp11> ^end <wp10> ^wall-side -1
         ^doorway true ^door_sx -9.999362938631414 ^door_sy 9.700000253654533 ^door_ex -10.000637061368586 ^door_ey 11.299999746345467)

  (<wp12> ^handle wp12 ^handle-int 12 ^x -6.0 ^y 2.0 ^map <building>)
   (<wp12> ^edge <e1208>)
    (<e1208> ^start <wp12> ^end <wp08> ^wall-side -1
         ^doorway false)
   (<wp12> ^edge <e1213>)
    (<e1213> ^start <wp12> ^end <wp13> ^wall-side 1
         ^doorway false)

  (<wp13> ^handle wp13 ^handle-int 13 ^x -6.0 ^y -8.0 ^map <building>)
   (<wp13> ^edge <e1312>)
    (<e1312> ^start <wp13> ^end <wp12> ^wall-side -1
         ^doorway false)
   (<wp13> ^edge <e1314>)
    (<e1314> ^start <wp13> ^end <wp14> ^wall-side 1
         ^doorway false)
   (<wp13> ^edge <e1316>)
    (<e1316> ^start <wp13> ^end <wp16> ^wall-side 1
         ^doorway false)

  (<wp14> ^handle wp14 ^handle-int 14 ^x -12.0 ^y -8.0 ^map <building>)
   (<wp14> ^edge <e1413>)
    (<e1413> ^start <wp14> ^end <wp13> ^wall-side -1
         ^doorway false)
   (<wp14> ^edge <e1415>)
    (<e1415> ^start <wp14> ^end <wp15> ^wall-side 1
         ^doorway true ^door_sx -13.650637061368586 ^door_sy -7.449999746345468 ^door_ex -13.649362938631414 ^door_ey -5.850000253654533)

  (<wp15> ^handle wp15 ^handle-int 15 ^x -14.5 ^y -3.5 ^map <building>)
   (<wp15> ^edge <e1514>)
    (<e1514> ^start <wp15> ^end <wp14> ^wall-side -1
         ^doorway true ^door_sx -13.649362938631414 ^door_sy -5.850000253654533 ^door_ex -13.650637061368586 ^door_ey -7.449999746345468)

  (<wp16> ^handle wp16 ^handle-int 16 ^x -0.5 ^y -9.0 ^map <building>)
   (<wp16> ^edge <e1613>)
    (<e1613> ^start <wp16> ^end <wp13> ^wall-side -1
         ^doorway false)
   (<wp16> ^edge <e1617>)
    (<e1617> ^start <wp16> ^end <wp17> ^wall-side 1
         ^doorway true ^door_sx 3.6993629386314137 ^door_sy -10.450000253654533 ^door_ex 3.7006370613685866 ^door_ey -12.049999746345467)

  (<wp17> ^handle wp17 ^handle-int 17 ^x 4.5 ^y -14.0 ^map <building>)
   (<wp17> ^edge <e1716>)
    (<e1716> ^start <wp17> ^end <wp16> ^wall-side -1
         ^doorway true ^door_sx 3.7006370613685866 ^door_sy -12.049999746345467 ^door_ex 3.6993629386314137 ^door_ey -10.450000253654533)

}
