sp {top-state*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)
   
   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)
   
   ##### BUILDING ######
   
   (<building> ^handle bmap1 ^waypoint <wp01> <wp02> <wp03> <wp04> <wp05> <wp06>
               ^waypoint <wp07> <wp08> <wp09> <wp10> <wp11> <wp12> <wp13>  
               ^waypoint  <wp14> <wp15> <wp16> <wp17> <wp18> <wp19> <wp20>
               ^waypoint  <wp21> <wp22> <wp23> <wp24> <wp25> <wp26> <wp27>
               ^waypoint  <wp28> <wp29> <wp30>
               ^super-waypoint <bwp01>)
   
   ###### HALL 1 ######
    
   (<wp01> ^handle wp01 ^handle-int 1 ^x -19.082 ^y 12.092 ^map <building> )
    (<wp01> ^edge <e0107>)
    (<e0107> ^start <wp01> ^end <wp07>)

   (<wp07> ^handle wp07 ^handle-int 7 ^x -11.0771 ^y 12.057 ^map <building>)
    (<wp07> ^edge <e0701>)
    (<e0701> ^start <wp07> ^end <wp01>)
    (<wp07> ^edge <e0725>)
    (<e0725> ^start <wp07> ^end <wp25>)
    (<wp07> ^edge <e0719>)
    (<e0719> ^start <wp07> ^end <wp19>)

   (<wp19> ^handle wp19 ^handle-int 19 ^x -0.1031 ^y 12.020 ^map <building>)
    (<wp19> ^edge <e1907>)
    (<e1907> ^start <wp19> ^end <wp07>)
    (<wp19> ^edge <e1908>)
    (<e1908> ^start <wp19> ^end <wp08>)

   (<wp08> ^handle wp08 ^handle-int 8 ^x 11.0231 ^y 12.085 ^map <building>)
    (<wp08> ^edge <e0819>)
    (<e0819> ^start <wp08> ^end <wp19>)
    (<wp08> ^edge <e0826>)
    (<e0826> ^start <wp08> ^end <wp26>)
    (<wp08> ^edge <e0820>)
    (<e0820> ^start <wp08> ^end <wp20>)

   (<wp20> ^handle wp20 ^handle-int 20 ^x 21.7381 ^y 11.932 ^map <building>)
    (<wp20> ^edge <e2008>)
    (<e2008> ^start <wp20> ^end <wp08>)
    (<wp20> ^edge <e2009>)
    (<e2009> ^start <wp20> ^end <wp09>)

   (<wp09> ^handle wp09 ^handle-int 9 ^x 31.0321 ^y 12.060 ^map <building>)
    (<wp09> ^edge <e0920>)
    (<e0920> ^start <wp09> ^end <wp20>)
    (<wp09> ^edge <e0927>)
    (<e0927> ^start <wp09> ^end <wp27>)
    (<wp09> ^edge <e0904>)
    (<e0904> ^start <wp09> ^end <wp04>)

   (<wp04> ^handle wp04 ^handle-int 4 ^x 41.0271 ^y 12.049 ^map <building>)
    (<wp04> ^edge <e0409>)
    (<e0409> ^start <wp04> ^end <wp09>)
    
    
   ###### HALL 2 ######
    
   (<wp02> ^handle wp02 ^handle-int 2 ^x -18.976 ^y 0.033 ^map <building>)
    (<wp02> ^edge <e0210>)
    (<e0210> ^start <wp02> ^end <wp10>)

   (<wp10> ^handle wp10 ^handle-int 10 ^x -10.9330 ^y .055 ^map <building> )
    (<wp10> ^edge <e1002>)
    (<e1002> ^start <wp10> ^end <wp02>)
    (<wp10> ^edge <e1025>)
    (<e1025> ^start <wp10> ^end <wp25>)
    (<wp10> ^edge <e1011>)
    (<e1011> ^start <wp10> ^end <wp11>)

   (<wp11> ^handle wp11 ^handle-int 11 ^x -8.8060 ^y .034 ^map <building> )
    (<wp11> ^edge <e1110>)
    (<e1110> ^start <wp11> ^end <wp10>)
    (<wp11> ^edge <e1128>)
    (<e1128> ^start <wp11> ^end <wp28>)
    (<wp11> ^edge <e1121>)
    (<e1121> ^start <wp11> ^end <wp21>)

   (<wp21> ^handle wp21 ^handle-int 21 ^x 0.8690 ^y .082 ^map <building> )
    (<wp21> ^edge <e2111>)
    (<e2111> ^start <wp21> ^end <wp11>)
    (<wp21> ^edge <e2112>)
    (<e2112> ^start <wp21> ^end <wp12>)

   (<wp12> ^handle wp12 ^handle-int 12 ^x 10.8580 ^y .029 ^map <building> )
    (<wp12> ^edge <e1221>)
    (<e1221> ^start <wp12> ^end <wp21>)
    (<wp12> ^edge <e1226>)
    (<e1226> ^start <wp12> ^end <wp26>)
    (<wp12> ^edge <e1213>)
    (<e1213> ^start <wp12> ^end <wp13>)

   (<wp13> ^handle wp13 ^handle-int 13 ^x 12.9320 ^y .003 ^map <building> )
    (<wp13> ^edge <e1312>)
    (<e1312> ^start <wp13> ^end <wp12>)
    (<wp13> ^edge <e1329>)
    (<e1329> ^start <wp13> ^end <wp29>)
    (<wp13> ^edge <e1322>)
    (<e1322> ^start <wp13> ^end <wp22>)

   (<wp22> ^handle wp22 ^handle-int 22 ^x 22.6220 ^y .082 ^map <building> )
    (<wp22> ^edge <e2213>)
    (<e2213> ^start <wp22> ^end <wp13>)
    (<wp22> ^edge <e2214>)
    (<e2214> ^start <wp22> ^end <wp14>)

   (<wp14> ^handle wp14 ^handle-int 14 ^x 31.1370 ^y .011 ^map <building> )
    (<wp14> ^edge <e1422>)
    (<e1422> ^start <wp14> ^end <wp22>)
    (<wp14> ^edge <e1427>)
    (<e1427> ^start <wp14> ^end <wp27>)
    (<wp14> ^edge <e1415>)
    (<e1415> ^start <wp14> ^end <wp15>)

   (<wp15> ^handle wp15 ^handle-int 15 ^x 33.134 ^y -0.005 ^map <building>)
    (<wp15> ^edge <e1514>)
    (<e1514> ^start <wp15> ^end <wp14>)
    (<wp15> ^edge <e1530>)
    (<e1530> ^start <wp15> ^end <wp30>)
    (<wp15> ^edge <e1505>)
    (<e1505> ^start <wp15> ^end <wp05>)

   (<wp05> ^handle wp05 ^handle-int 5 ^x 41.0530 ^y .0227 ^map <building> )
    (<wp05> ^edge <e0515>)
    (<e0515> ^start <wp05> ^end <wp15>)
    
    
        ##### INTER-HALL CONNECTIONS ######
    
   (<wp25> ^handle wp25 ^handle-int 25 ^x -10.9296 ^y 6.425 ^map <building>)
    (<wp25> ^edge <e2507>)
    (<e2507> ^start <wp25> ^end <wp07>)
    (<wp25> ^edge <e2510>)
    (<e2510> ^start <wp25> ^end <wp10>)

   (<wp26> ^handle wp26 ^handle-int 26 ^x 10.9816 ^y 6.346 ^map <building>)
    (<wp26> ^edge <e2608>)
    (<e2608> ^start <wp26> ^end <wp08>)
    (<wp26> ^edge <e2612>)
    (<e2612> ^start <wp26> ^end <wp12>)

   (<wp27> ^handle wp27 ^handle-int 27 ^x 31.2476 ^y 6.425 ^map <building>)
    (<wp27> ^edge <e2709>)
    (<e2709> ^start <wp27> ^end <wp09>)
    (<wp27> ^edge <e2714>)
    (<e2714> ^start <wp27> ^end <wp14>)

   (<wp28> ^handle wp28 ^handle-int 28 ^x -8.883 ^y -6.243 ^map <building>)
    (<wp28> ^edge <e2811>)
    (<e2811> ^start <wp28> ^end <wp11>)
    (<wp28> ^edge <e2816>)
    (<e2816> ^start <wp28> ^end <wp16>)

   (<wp29> ^handle wp29 ^handle-int 29 ^x 12.959 ^y -6.343 ^map <building>)
    (<wp29> ^edge <e2913>)
    (<e2913> ^start <wp29> ^end <wp13>)
    (<wp29> ^edge <e2917>)
    (<e2917> ^start <wp29> ^end <wp17>)

   (<wp30> ^handle wp30 ^handle-int 30 ^x 33.180 ^y -6.310 ^map <building>)
    (<wp30> ^edge <e3015>)
    (<e3015> ^start <wp30> ^end <wp15>)
    (<wp30> ^edge <e3018>)
    (<e3018> ^start <wp30> ^end <wp18>)
    
   ###### HALL 3 ######
   
   (<wp03> ^handle wp03 ^handle-int 3 ^x -19.078 ^y -13.031 ^map <building>)
    (<wp03> ^edge <e0316>)
    (<e0316> ^start <wp03> ^end <wp16>)

   (<wp16> ^handle wp16 ^handle-int 16 ^x -8.960 ^y -12.987 ^map <building>)
    (<wp16> ^edge <e1603>)
    (<e1603> ^start <wp16> ^end <wp03>)
    (<wp16> ^edge <e1628>)
    (<e1628> ^start <wp16> ^end <wp28>)
    (<wp16> ^edge <e1623>)
    (<e1623> ^start <wp16> ^end <wp23>)

   (<wp23> ^handle wp23 ^handle-int 23 ^x 2.284 ^y -13.092 ^map <building> )
    (<wp23> ^edge <e2316>)
    (<e2316> ^start <wp23> ^end <wp16>)
    (<wp23> ^edge <e2317>)
    (<e2317> ^start <wp23> ^end <wp17>)

   (<wp17> ^handle wp17 ^handle-int 17 ^x 13.135 ^y -12.987 ^map <building>)
    (<wp17> ^edge <e1723>)
    (<e1723> ^start <wp17> ^end <wp23>)
    (<wp17> ^edge <e1729>)
    (<e1729> ^start <wp17> ^end <wp29>)
    (<wp17> ^edge <e1724>)
    (<e1724> ^start <wp17> ^end <wp24>)

   (<wp24> ^handle wp24 ^handle-int 24 ^x 24.126 ^y -13.092 ^map <building>)
    (<wp24> ^edge <e2417>)
    (<e2417> ^start <wp24> ^end <wp17>)
    (<wp24> ^edge <e2418>)
    (<e2418> ^start <wp24> ^end <wp18>)

   (<wp18> ^handle wp18 ^handle-int 18 ^x 33.168 ^y -13.068 ^map <building>)
    (<wp18> ^edge <e1824>)
    (<e1824> ^start <wp18> ^end <wp24>)
    (<wp18> ^edge <e1830>)
    (<e1830> ^start <wp18> ^end <wp30>)
    (<wp18> ^edge <e1806>)
    (<e1806> ^start <wp18> ^end <wp06>)

   (<wp06> ^handle wp06 ^handle-int 6 ^x 41.111 ^y -12.945 ^map <building> )
    (<wp06> ^edge <e0618>)
    (<e0618> ^start <wp06> ^end <wp18>)

}