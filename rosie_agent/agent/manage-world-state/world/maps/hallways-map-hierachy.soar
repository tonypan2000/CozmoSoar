sp {top-state*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <hall1> <hall2> <hall3> <building> <world>)
   
   (<world> ^id world-map ^waypoint <bwp01>)
   (<bwp01> ^id bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)
   
   ##### BUILDING ######
   
   (<building> ^id bmap1 ^waypoint <hwp01> <hwp02> <hwp03>
               ^super-waypoint <bwp01>)
   
   (<hwp01> ^id hwp01 ^x 12.0 ^y 0.0 ^map <building> ^sub-map <hall1> )
    (<hwp01> ^edge <he0102>)
    (<he0102> ^start <hwp01> ^end <hwp02>)
    
   (<hwp02> ^id hwp02 ^x 0.0 ^y 0.0 ^map <building> ^sub-map <hall2> )
    (<hwp02> ^edge <he0201> ^edge <he0203>)
    (<he0201> ^start <hwp02> ^end <hwp01>)
    (<he0203> ^start <hwp02> ^end <hwp03>)

   (<hwp03> ^id hwp03 ^x -13.0 ^y 0.0 ^map <building> ^sub-map <hall3>)
    (<hwp03> ^edge <he0302>)
    (<he0302> ^start <hwp03> ^end <hwp02>)
   
    
   ###### HALL 1 ######
    
   (<hall1> ^id hmap1 ^waypoint <wp01> <wp07> <wp19> <wp08> <wp20> <wp09> <wp04> ^super-waypoint <hwp01>)
   
   (<wp01> ^id wp01 ^id-int 1 ^x -19.082 ^y 12.092 ^map <hall1>)
    (<wp01> ^edge <e0107>)
    (<e0107> ^start <wp01> ^end <wp07>)

   (<wp07> ^id wp07 ^id-int 7 ^x -11.0771 ^y 12.057 ^map <hall1>)
    (<wp07> ^edge <e0701>)
    (<e0701> ^start <wp07> ^end <wp01>)
    (<wp07> ^edge <e0725>)
    (<e0725> ^start <wp07> ^end <wp25>)
    (<wp07> ^edge <e0719>)
    (<e0719> ^start <wp07> ^end <wp19>)

   (<wp19> ^id wp19 ^id-int 19 ^x -0.1031 ^y 12.020 ^map <hall1>)
    (<wp19> ^edge <e1907>)
    (<e1907> ^start <wp19> ^end <wp07>)
    (<wp19> ^edge <e1908>)
    (<e1908> ^start <wp19> ^end <wp08>)

   (<wp08> ^id wp08 ^id-int 8 ^x 11.0231 ^y 12.085 ^map <hall1>)
    (<wp08> ^edge <e0819>)
    (<e0819> ^start <wp08> ^end <wp19>)
    (<wp08> ^edge <e0826>)
    (<e0826> ^start <wp08> ^end <wp26>)
    (<wp08> ^edge <e0820>)
    (<e0820> ^start <wp08> ^end <wp20>)

   (<wp20> ^id wp20 ^id-int 20 ^x 21.7381 ^y 11.932 ^map <hall1>)
    (<wp20> ^edge <e2008>)
    (<e2008> ^start <wp20> ^end <wp08>)
    (<wp20> ^edge <e2009>)
    (<e2009> ^start <wp20> ^end <wp09>)

   (<wp09> ^id wp09 ^id-int 9 ^x 31.0321 ^y 12.060 ^map <hall1>)
    (<wp09> ^edge <e0920>)
    (<e0920> ^start <wp09> ^end <wp20>)
    (<wp09> ^edge <e0927>)
    (<e0927> ^start <wp09> ^end <wp27>)
    (<wp09> ^edge <e0904>)
    (<e0904> ^start <wp09> ^end <wp04>)

   (<wp04> ^id wp04 ^id-int 4 ^x 41.0271 ^y 12.049 ^map <hall1>)
    (<wp04> ^edge <e0409>)
    (<e0409> ^start <wp04> ^end <wp09>)
    
    
   ###### HALL 2 ######
    
   (<hall2> ^id hmap2 ^waypoint <wp02> <wp10> <wp11> <wp21> <wp12> <wp13> <wp22> 
            ^waypoint <wp14> <wp15> <wp05> <wp25> <wp26> <wp27> <wp28> <wp29> <wp30>
            ^super-waypoint <hwp01>)

   (<wp02> ^id wp02 ^id-int 2 ^x -18.976 ^y 0.033 ^map <hall2>)
    (<wp02> ^edge <e0210>)
    (<e0210> ^start <wp02> ^end <wp10>)

   (<wp10> ^id wp10 ^id-int 10 ^x -10.9330 ^y .055 ^map <hall2> )
    (<wp10> ^edge <e1002>)
    (<e1002> ^start <wp10> ^end <wp02>)
    (<wp10> ^edge <e1025>)
    (<e1025> ^start <wp10> ^end <wp25>)
    (<wp10> ^edge <e1011>)
    (<e1011> ^start <wp10> ^end <wp11>)

   (<wp11> ^id wp11 ^id-int 11 ^x -8.8060 ^y .034 ^map <hall2> )
    (<wp11> ^edge <e1110>)
    (<e1110> ^start <wp11> ^end <wp10>)
    (<wp11> ^edge <e1128>)
    (<e1128> ^start <wp11> ^end <wp28>)
    (<wp11> ^edge <e1121>)
    (<e1121> ^start <wp11> ^end <wp21>)

   (<wp21> ^id wp21 ^id-int 21 ^x 0.8690 ^y .082 ^map <hall2> )
    (<wp21> ^edge <e2111>)
    (<e2111> ^start <wp21> ^end <wp11>)
    (<wp21> ^edge <e2112>)
    (<e2112> ^start <wp21> ^end <wp12>)

   (<wp12> ^id wp12 ^id-int 12 ^x 10.8580 ^y .029 ^map <hall2> )
    (<wp12> ^edge <e1221>)
    (<e1221> ^start <wp12> ^end <wp21>)
    (<wp12> ^edge <e1226>)
    (<e1226> ^start <wp12> ^end <wp26>)
    (<wp12> ^edge <e1213>)
    (<e1213> ^start <wp12> ^end <wp13>)

   (<wp13> ^id wp13 ^id-int 13 ^x 12.9320 ^y .003 ^map <hall2> )
    (<wp13> ^edge <e1312>)
    (<e1312> ^start <wp13> ^end <wp12>)
    (<wp13> ^edge <e1329>)
    (<e1329> ^start <wp13> ^end <wp29>)
    (<wp13> ^edge <e1322>)
    (<e1322> ^start <wp13> ^end <wp22>)

   (<wp22> ^id wp22 ^id-int 22 ^x 22.6220 ^y .082 ^map <hall2> )
    (<wp22> ^edge <e2213>)
    (<e2213> ^start <wp22> ^end <wp13>)
    (<wp22> ^edge <e2214>)
    (<e2214> ^start <wp22> ^end <wp14>)

   (<wp14> ^id wp14 ^id-int 14 ^x 31.1370 ^y .011 ^map <hall2> )
    (<wp14> ^edge <e1422>)
    (<e1422> ^start <wp14> ^end <wp22>)
    (<wp14> ^edge <e1427>)
    (<e1427> ^start <wp14> ^end <wp27>)
    (<wp14> ^edge <e1415>)
    (<e1415> ^start <wp14> ^end <wp15>)

   (<wp15> ^id wp15 ^id-int 15 ^x 33.134 ^y -0.005 ^map <hall2>)
    (<wp15> ^edge <e1514>)
    (<e1514> ^start <wp15> ^end <wp14>)
    (<wp15> ^edge <e1530>)
    (<e1530> ^start <wp15> ^end <wp30>)
    (<wp15> ^edge <e1505>)
    (<e1505> ^start <wp15> ^end <wp05>)

   (<wp05> ^id wp05 ^id-int 5 ^x 41.0530 ^y .0227 ^map <hall2> )
    (<wp05> ^edge <e0515>)
    (<e0515> ^start <wp05> ^end <wp15>)
    
    
        ##### INTER-HALL CONNECTIONS ######
    
   (<wp25> ^id wp25 ^id-int 25 ^x -10.9296 ^y 6.425 ^map <hall2>)
    (<wp25> ^edge <e2507>)
    (<e2507> ^start <wp25> ^end <wp07>)
    (<wp25> ^edge <e2510>)
    (<e2510> ^start <wp25> ^end <wp10>)

   (<wp26> ^id wp26 ^id-int 26 ^x 10.9816 ^y 6.346 ^map <hall2>)
    (<wp26> ^edge <e2608>)
    (<e2608> ^start <wp26> ^end <wp08>)
    (<wp26> ^edge <e2612>)
    (<e2612> ^start <wp26> ^end <wp12>)

   (<wp27> ^id wp27 ^id-int 27 ^x 31.2476 ^y 6.425 ^map <hall2>)
    (<wp27> ^edge <e2709>)
    (<e2709> ^start <wp27> ^end <wp09>)
    (<wp27> ^edge <e2714>)
    (<e2714> ^start <wp27> ^end <wp14>)

   (<wp28> ^id wp28 ^id-int 28 ^x -8.883 ^y -6.243 ^map <hall2>)
    (<wp28> ^edge <e2811>)
    (<e2811> ^start <wp28> ^end <wp11>)
    (<wp28> ^edge <e2816>)
    (<e2816> ^start <wp28> ^end <wp16>)

   (<wp29> ^id wp29 ^id-int 29 ^x 12.959 ^y -6.343 ^map <hall2>)
    (<wp29> ^edge <e2913>)
    (<e2913> ^start <wp29> ^end <wp13>)
    (<wp29> ^edge <e2917>)
    (<e2917> ^start <wp29> ^end <wp17>)

   (<wp30> ^id wp30 ^id-int 30 ^x 33.180 ^y -6.310 ^map <hall2>)
    (<wp30> ^edge <e3015>)
    (<e3015> ^start <wp30> ^end <wp15>)
    (<wp30> ^edge <e3018>)
    (<e3018> ^start <wp30> ^end <wp18>)
    
   ###### HALL 3 ######
   
   (<hall3> ^id hmap3 ^waypoint <wp03> <wp16> <wp23> <wp17> <wp24> <wp18> <wp06>
            ^super-waypoint <hwp03> )

   (<wp03> ^id wp03 ^id-int 3 ^x -19.078 ^y -13.031 ^map <hall3>)
    (<wp03> ^edge <e0316>)
    (<e0316> ^start <wp03> ^end <wp16>)

   (<wp16> ^id wp16 ^id-int 16 ^x -8.960 ^y -12.987 ^map <hall3>)
    (<wp16> ^edge <e1603>)
    (<e1603> ^start <wp16> ^end <wp03>)
    (<wp16> ^edge <e1628>)
    (<e1628> ^start <wp16> ^end <wp28>)
    (<wp16> ^edge <e1623>)
    (<e1623> ^start <wp16> ^end <wp23>)

   (<wp23> ^id wp23 ^id-int 23 ^x 2.284 ^y -13.092 ^map <hall3> )
    (<wp23> ^edge <e2316>)
    (<e2316> ^start <wp23> ^end <wp16>)
    (<wp23> ^edge <e2317>)
    (<e2317> ^start <wp23> ^end <wp17>)

   (<wp17> ^id wp17 ^id-int 17 ^x 13.135 ^y -12.987 ^map <hall3>)
    (<wp17> ^edge <e1723>)
    (<e1723> ^start <wp17> ^end <wp23>)
    (<wp17> ^edge <e1729>)
    (<e1729> ^start <wp17> ^end <wp29>)
    (<wp17> ^edge <e1724>)
    (<e1724> ^start <wp17> ^end <wp24>)

   (<wp24> ^id wp24 ^id-int 24 ^x 24.126 ^y -13.092 ^map <hall3>)
    (<wp24> ^edge <e2417>)
    (<e2417> ^start <wp24> ^end <wp17>)
    (<wp24> ^edge <e2418>)
    (<e2418> ^start <wp24> ^end <wp18>)

   (<wp18> ^id wp18 ^id-int 18 ^x 33.168 ^y -13.068 ^map <hall3>)
    (<wp18> ^edge <e1824>)
    (<e1824> ^start <wp18> ^end <wp24>)
    (<wp18> ^edge <e1830>)
    (<e1830> ^start <wp18> ^end <wp30>)
    (<wp18> ^edge <e1806>)
    (<e1806> ^start <wp18> ^end <wp06>)

   (<wp06> ^id wp06 ^id-int 6 ^x 41.111 ^y -12.945 ^map <hall3> )
    (<wp06> ^edge <e0618>)
    (<e0618> ^start <wp06> ^end <wp18>)

}