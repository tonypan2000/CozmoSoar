sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp01> <wp02> <wp03> <wp04> )

   ### WAYPOINTS ###

  (<wp01> ^handle wp01 ^handle-int 1 ^x 6.0 ^y 12.0 ^map <building>)
   (<wp01> ^edge <e0104>)
    (<e0104> ^start <wp01> ^end <wp04> ^wall-side 1
         ^doorway true ^door_sx 5.948997551415653 ^door_sy 9.798372563555638 ^door_ex 6.051002448584347 ^door_ey 8.201627436444362)

  (<wp02> ^handle wp02 ^handle-int 2 ^x 3.0 ^y 3.0 ^map <building>)
   (<wp02> ^edge <e0204>)
    (<e0204> ^start <wp02> ^end <wp04> ^wall-side 1
         ^doorway true ^door_sx 2.9489975514156526 ^door_sy 5.201627436444362 ^door_ex 3.0510024485843474 ^door_ey 6.798372563555638)

  (<wp03> ^handle wp03 ^handle-int 3 ^x 9.0 ^y 3.0 ^map <building>)
   (<wp03> ^edge <e0304>)
    (<e0304> ^start <wp03> ^end <wp04> ^wall-side 1
         ^doorway true ^door_sx 8.948997551415653 ^door_sy 5.201627436444362 ^door_ex 9.051002448584347 ^door_ey 6.798372563555638)

  (<wp04> ^handle wp04 ^handle-int 4 ^x 6.0 ^y 7.5 ^map <building>)
   (<wp04> ^edge <e0401>)
    (<e0401> ^start <wp04> ^end <wp01> ^wall-side -1
         ^doorway true ^door_sx 6.051002448584347 ^door_sy 8.201627436444362 ^door_ex 5.948997551415653 ^door_ey 9.798372563555638)
   (<wp04> ^edge <e0402>)
    (<e0402> ^start <wp04> ^end <wp02> ^wall-side -1
         ^doorway true ^door_sx 3.0510024485843474 ^door_sy 6.798372563555638 ^door_ex 2.9489975514156526 ^door_ey 5.201627436444362)
   (<wp04> ^edge <e0403>)
    (<e0403> ^start <wp04> ^end <wp03> ^wall-side -1
         ^doorway true ^door_sx 9.051002448584347 ^door_sy 6.798372563555638 ^door_ex 8.948997551415653 ^door_ey 5.201627436444362)

}
